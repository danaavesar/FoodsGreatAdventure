<!doctype html>
<html lang = "en">
<head>
	<meta charset="UTF-8">
	<title> mouth drag and drop </title>
	<script src="js/jquery/jquery-1.11.1.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js"></script>
	 <script src="snap/dist/snap.svg-min.js"></script>

	 <style type="text/css">
	 .gland {
	 	cursor: pointer;
	 }
	 </style>
	
</head>

<body>

<?xml version="1.0" encoding="utf-8"?>
<!-- Generator: Adobe Illustrator 18.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">

<svg id="saliva_group" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 414.8 644.4" enable-background="new 0 0 414.8 644.4" xml:space="preserve">

<path id="top_gland" class="gland" fill="#AEE0E8" d="M379.8,112.4c0.5-5.9-0.8-11.4-3.6-15.7c1.6-3.5,2.7-7.4,3-11.5c1.8-19.8-12.7-37.3-32.5-39.2
		c-1.1-0.1-2.3-0.1-3.4-0.1c-2.5-7.4-9.1-13.1-17.2-13.8c-9.7-0.9-18.5,5.5-21.3,14.8c-18.1,0.2-33.2,12.5-34.7,29
		c-0.2,2.4-0.1,4.7,0.2,7c-8.7,2.5-15.3,9.7-16.1,18.7c-0.2,2.4,0,4.7,0.5,6.8c-8.9-0.6-16.8,6.3-17.7,15.7
		c-0.9,9.5,5.8,17.9,14.8,18.7c2.5,0.2,4.9-0.2,7.2-1c-0.9,1.9-1.4,3.9-1.6,6.1c-1.1,11.5,8.8,21.9,22,23.1c0.1,0,0.1,0,0.2,0
		c0.3,8.5,6.9,15.7,15.6,16.5c9.3,0.9,17.6-5.9,18.7-15.1c0.7,0.2,1.5,0.4,2.2,0.5c7.8,0.7,15-7.1,15.9-17.4c0.1-1.4,0.1-2.8,0-4.2
		c2.6,2.4,5.6,3.9,9,4.3c9.9,0.9,19.1-8.9,21.5-22.5C371.4,131.8,378.7,123.3,379.8,112.4z"/>

<path id="top_glandTube" fill="#AEE0E8" d="M293.5,147.1c0,0-11.1,133.4-21.4,138.5c-10.3,5.1-92.3,5.1-92.3,5.1l-12,1.7v23.9h8.5l1.7-12l106-5.1
	c5.1-20.5,20.5-143.6,20.5-143.6L293.5,147.1z"/>
<g id="fxAH3q.tif">
	<g>
		<path id="bottom_gland" class="gland" fill="#AEE0E8" d="M100.9,621c-1.9,1.7-3.4,3.4-5.2,4.7c-7,5.4-14.8,6.7-23.1,3.8c-1.8-0.6-3.2-0.6-4.9,0.3c-4.6,2.4-9,1.8-13.2-1.2c-1.4-1-3.2-1.7-4.8-1.8c-12.6-0.4-21.4-11.6-17.5-23c0.9-2.7,3.2-4.9,4.6-7.4c0.6-1,1.2-2.4,1-3.4
			c-2.4-9.7-0.2-18.2,7.4-24.7c7.8-6.7,16.8-7.7,26.4-4.5c1.8,0.6,3.6,1.4,5.2,2.1c2.6-4,4.7-8.3,7.8-11.7c8.1-8.7,18.4-11.2,29.7-8
			c11.2,3.1,18.2,10.6,20.2,22.2c0.5,3,1.6,4.1,4.7,4.6c7.5,1.2,13,5.4,15,13c0.8,3,2.9,3.3,5.1,3.9c13.7,4.3,19.1,20.4,10.5,31.3
			c-7.2,9.1-20.6,11.2-29.9,4.2c-3.1-2.3-5-2.2-8,0c-8.5,6.1-19.4,5.3-27.5-1.5C103.3,623,102.2,622.1,100.9,621z"/>
	</g>
</g>

<path id="bottom_rightGland" class="gland" fill="#AEE0E8" d="M297.8,505.2c-0.3,0-0.5,0-0.8,0c-3.7-12.2-13.7-21-25.5-21c-13.3,0-24.4,11.3-26.6,26.1
	c-1.8-0.4-3.7-0.6-5.7-0.6c-16.2,0-29.2,13.4-29.2,30c0,16.6,13.1,30,29.2,30c7,0,13.4-2.5,18.4-6.7c3.9,3.2,9,5.2,14.6,5.2
	c11.3,0,20.6-8.1,21.7-18.4c1.2,0.2,2.5,0.4,3.8,0.4c12,0,21.7-10.1,21.7-22.5S309.8,505.2,297.8,505.2z"/>

<polygon id="bottom_glandTubeLeft" fill="#AEE0E8"  points="76.6,572.7 85.6,418.2 103.6,416.7 105.1,401.7 114.1,400.2 109.6,422.7 90.1,424.2 81.1,578.7 "/>

<polygon id="bottom_glandTubeRight" fill="#AEE0E8" points="258.1,521.7 141.1,580.2 145.6,583.2 259.6,524.7 "/>

<path id="salivaTop" fill="#73D7F2" d="M126.6,275.6c0,0-12,13.7-6.8,18.8c5.1,5.1,5.1,12,10.3,17.1c5.1,5.1-22.2,10.3-18.8,17.1
	c3.4,6.8,3.4,6.8,3.4,6.8s18.8-5.1,22.2,1.7c3.4,6.8-3.4,13.7,1.7,13.7s29.1,1.7,29.1-6.8s8.5-27.4,8.5-27.4h-8.5l-13.1,14.8
	c0,0-9.1-2.8-5.7-19.9c3.4-17.1,18.8-16,15.4-26.8c-3.4-10.8-10.3-24.5-18.8-17.7C136.9,273.9,126.6,275.6,126.6,275.6z"/>

<path id="salivaBottom" fill="#73D7F2" d="M104.9,400.7c0,0,8.4-18.7,1.4-20.7s-1,4-12,2s-17-7-10-13s14-12,5-14s-4-17,6-16s24,5,21,17s-18,10-11,14
		s11,3,10,13s-1.4,16.2-1.4,16.2L104.9,400.7z"/>

<path id="saliva_maskTop" fill="none" stroke-width="40" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M177.8,314.1c0,0-0.5,31.4-16.2,30.7c-10.5-0.5-12.3-2.8-23-11c-13-10-5.5-21-5.5-21s4.5-29.5,21.3-36.7"/>

<path id="saliva_maskBottom" fill="none" stroke-width="20" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M108.5,405.4c0,0,5.3-19.8,2.7-23.2l-24.7-6.2l18-16.7l10-10l-22.7-2"/>

</svg>


  <script>
  		//saliva svg group
		var saliva_group = Snap.select('#saliva_group');
		//select glands
		var top_gland = saliva_group.select('#top_gland');
		var bottom_gland= saliva_group.select('#bottom_gland');
		var bottom_rightGland = saliva_group.select('#bottom_rightGland');
		//select masks
		var saliva_maskTop = saliva_group.select("#saliva_maskTop");
		var saliva_maskBottom = saliva_group.select("#saliva_maskBottom");
		//slect saliva and apply masks
		var salivaTop = saliva_group.select("#salivaTop");
		var salivaBottom = saliva_group.select("#salivaBottom");
		var len=saliva_maskTop.getTotalLength();
		var len2=saliva_maskBottom.getTotalLength();
		salivaBottom.attr({ mask: saliva_maskBottom});
		salivaTop.attr({ mask: saliva_maskTop });	

		
		//top gland
		function squeeze_top_gland() {
			top_gland.animate({d:"M362.8,111.6c0.6-5.9-0.2-11.3-2.1-15.6c1.3-3.6,2.3-7.4,2.7-11.5c2.1-19.8-8.4-37.1-23.4-38.7c-0.9-0.1-1.7-0.1-2.6-0.1c-1.7-7.4-6.4-12.9-12.6-13.6c-7.4-0.8-14.3,5.7-16.7,15c-13.7,0.4-25.7,12.8-27.5,29.3c-0.3,2.4-0.3,4.7-0.1,6.9c-6.7,2.6-12,9.8-12.9,18.8c-0.2,2.4-0.2,4.6,0.2,6.8c-6.8-0.5-13,6.5-14,15.8c-1,9.5,3.8,17.7,10.6,18.5c1.9,0.2,3.8-0.2,5.5-1.1c-0.7,1.9-1.2,3.9-1.4,6.1c-1.2,11.5,5.9,21.7,15.9,22.8c0,0,0.1,0,0.1,0c-0.1,8.5,4.7,15.6,11.3,16.3c7.1,0.8,13.6-6.1,14.8-15.3c0.5,0.2,1.1,0.4,1.7,0.4c5.9,0.6,11.6-7.2,12.7-17.5c0.2-1.4,0.2-2.8,0.2-4.2c1.9,2.4,4.1,3.9,6.7,4.1c7.5,0.8,14.9-9.1,17.2-22.7C355.8,131,361.6,122.5,362.8,111.6z"}, 500, mina.easeout); 
		}

		function release_top_gland(){
				top_gland.animate({d: "M379.8,112.4c0.5-5.9-0.8-11.4-3.6-15.7c1.6-3.5,2.7-7.4,3-11.5c1.8-19.8-12.7-37.3-32.5-39.2c-1.1-0.1-2.3-0.1-3.4-0.1c-2.5-7.4-9.1-13.1-17.2-13.8c-9.7-0.9-18.5,5.5-21.3,14.8c-18.1,0.2-33.2,12.5-34.7,29c-0.2,2.4-0.1,4.7,0.2,7c-8.7,2.5-15.3,9.7-16.1,18.7c-0.2,2.4,0,4.7,0.5,6.8c-8.9-0.6-16.8,6.3-17.7,15.7c-0.9,9.5,5.8,17.9,14.8,18.7c2.5,0.2,4.9-0.2,7.2-1c-0.9,1.9-1.4,3.9-1.6,6.1c-1.1,11.5,8.8,21.9,22,23.1c0.1,0,0.1,0,0.2,0c0.3,8.5,6.9,15.7,15.6,16.5c9.3,0.9,17.6-5.9,18.7-15.1c0.7,0.2,1.5,0.4,2.2,0.5c7.8,0.7,15-7.1,15.9-17.4c0.1-1.4,0.1-2.8,0-4.2c2.6,2.4,5.6,3.9,9,4.3c9.9,0.9,19.1-8.9,21.5-22.5C371.4,131.8,378.7,123.3,379.8,112.4z" }, 500, mina.easein); 
		}

		$("#top_gland").mousedown(function(){
			console.log("gland has been clicked");
			squeeze_top_gland();
			squirt_topSaliva();
		});
		
		$("#top_gland").mouseup(function(){
			console.log("gland has been released");
			release_top_gland();
		});

		//bottom gland
		function squeeze_bottom_gland() {
			bottom_gland.animate({d:"M97.7,621c-1.5,1.7-2.8,3.4-4.3,4.7c-5.8,5.4-12.2,6.7-19.1,3.8c-1.5-0.6-2.6-0.6-4,0.3c-3.8,2.4-7.4,1.8-10.9-1.2c-1.1-1-2.6-1.7-4-1.8c-10.4-0.4-17.6-11.6-14.4-23c0.8-2.7,2.6-4.9,3.8-7.4c0.5-1,1-2.4,0.8-3.4c-2-9.7-0.2-18.2,6.1-24.7c6.4-6.7,13.9-7.7,21.8-4.5c1.5,0.6,3,1.4,4.3,2.1c2.1-4,3.8-8.3,6.4-11.7c6.7-8.7,15.2-11.2,24.5-8c9.2,3.1,15,10.6,16.6,22.2c0.4,3,1.3,4.1,3.9,4.6c6.2,1.2,10.7,5.4,12.4,13c0.7,3,2.4,3.3,4.2,3.9c11.3,4.3,15.8,20.4,8.6,31.3c-5.9,9.1-17,11.2-24.7,4.2c-2.6-2.3-4.1-2.2-6.6,0c-7,6.1-16,5.3-22.6-1.5C99.7,623,98.8,622.1,97.7,621z"}, 500, mina.easeout); 
		}


		function release_bottom_gland(){
				bottom_gland.animate({d: "M100.9,621c-1.9,1.7-3.4,3.4-5.2,4.7c-7,5.4-14.8,6.7-23.1,3.8c-1.8-0.6-3.2-0.6-4.9,0.3c-4.6,2.4-9,1.8-13.2-1.2c-1.4-1-3.2-1.7-4.8-1.8c-12.6-0.4-21.4-11.6-17.5-23c0.9-2.7,3.2-4.9,4.6-7.4c0.6-1,1.2-2.4,1-3.4c-2.4-9.7-0.2-18.2,7.4-24.7c7.8-6.7,16.8-7.7,26.4-4.5c1.8,0.6,3.6,1.4,5.2,2.1c2.6-4,4.7-8.3,7.8-11.7c8.1-8.7,18.4-11.2,29.7-8c11.2,3.1,18.2,10.6,20.2,22.2c0.5,3,1.6,4.1,4.7,4.6c7.5,1.2,13,5.4,15,13c0.8,3,2.9,3.3,5.1,3.9c13.7,4.3,19.1,20.4,10.5,31.3c-7.2,9.1-20.6,11.2-29.9,4.2c-3.1-2.3-5-2.2-8,0c-8.5,6.1-19.4,5.3-27.5-1.5C103.3,623,102.2,622.1,100.9,621z" }, 500, mina.easein); 
		}

		$("#bottom_gland").mousedown(function(){
			console.log("gland has been clicked");
			squeeze_bottom_gland();
			squirt_bottomSaliva();
	
		});
		
		$("#bottom_gland").mouseup(function(){
			console.log("gland has been released");
			release_bottom_gland();
		});

		//bottom right gland
		function squeeze_bottomRight_gland() {
			bottom_rightGland.animate({d:"M297.8,510.7c-0.3,0-0.5,0-0.8,0c-3.7-10.2-13.7-17.6-25.5-17.6c-13.3,0-24.4,9.4-26.6,21.8c-1.8-0.3-3.7-0.5-5.7-0.5c-16.2,0-29.2,11.2-29.2,25.1c0,13.9,13.1,25.1,29.2,25.1c7,0,13.4-2.1,18.4-5.6c3.9,2.7,9,4.4,14.6,4.4c11.3,0,20.6-6.7,21.7-15.4c1.2,0.2,2.5,0.3,3.8,0.3c12,0,21.7-8.4,21.7-18.8S309.8,510.7,297.8,510.7z"}, 500, mina.easeout); 
		}


		function release_bottomRight_gland(){
				bottom_rightGland.animate({d:"M297.8,505.2c-0.3,0-0.5,0-0.8,0c-3.7-12.2-13.7-21-25.5-21c-13.3,0-24.4,11.3-26.6,26.1c-1.8-0.4-3.7-0.6-5.7-0.6c-16.2,0-29.2,13.4-29.2,30c0,16.6,13.1,30,29.2,30c7,0,13.4-2.5,18.4-6.7c3.9,3.2,9,5.2,14.6,5.2c11.3,0,20.6-8.1,21.7-18.4c1.2,0.2,2.5,0.4,3.8,0.4c12,0,21.7-10.1,21.7-22.5S309.8,505.2,297.8,505.2z" }, 500, mina.easein); 
		}

		$("#bottom_rightGland").mousedown(function(){
			console.log("gland has been clicked");
			squeeze_bottomRight_gland();
			squirt_bottomSaliva();
	
		});
		
		$("#bottom_rightGland").mouseup(function(){
			console.log("gland has been released");
			release_bottomRight_gland();
		});


		function squirt_topSaliva(){
			saliva_maskTop.attr({
				stroke: '#fff',
				"stroke-dasharray": len,
				"stroke-dashoffset": len
			}).animate({"stroke-dashoffset": "0"}, 800, mina.easeout);
			

		}

		function squirt_bottomSaliva(){
			saliva_maskBottom.attr({
				stroke: '#fff',
				"stroke-dasharray": len2,
				"stroke-dashoffset": len2
			}).animate({"stroke-dashoffset": "0"}, 1000, mina.easeout);
			

		}


		


	</script> 

</body>

</html>